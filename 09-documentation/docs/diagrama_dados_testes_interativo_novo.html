<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìä Diagrama: Estrutura de Dados de Testes KBNT</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .diagram-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            border: 2px solid #e9ecef;
        }

        .flow-diagram {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .flow-stage {
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            z-index: 1;
        }

        .flow-stage:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            z-index: 2;
        }

        .stage-entrada {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
        }

        .stage-processamento {
            background: linear-gradient(135deg, #feca57, #ff9ff3);
            color: white;
        }

        .stage-estrutura {
            background: linear-gradient(135deg, #48dbfb, #0abde3);
            color: white;
        }

        .stage-armazenamento {
            background: linear-gradient(135deg, #1dd1a1, #10ac84);
            color: white;
        }

        .stage-saida {
            background: linear-gradient(135deg, #a55eea, #8854d0);
            color: white;
        }

        .stage-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .stage-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .data-structure {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .structure-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-left: 5px solid;
            transition: all 0.3s ease;
        }

        .structure-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
        }

        .card-message {
            border-left-color: #3498db;
        }

        .card-result {
            border-left-color: #e74c3c;
        }

        .card-metrics {
            border-left-color: #2ecc71;
        }

        .card-kafka {
            border-left-color: #f39c12;
        }

        .card-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .card-icon {
            margin-right: 10px;
            font-size: 1.2em;
        }

        .json-preview {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin-top: 15px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }

        .metric-card:hover {
            transform: translateY(-5px);
            z-index: 2;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .file-tree {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 15px;
            padding: 25px;
            font-family: 'Courier New', monospace;
            margin-bottom: 30px;
        }

        .tree-item {
            margin: 5px 0;
            padding: 3px 0;
        }

        .tree-folder {
            color: #f39c12;
            font-weight: bold;
        }

        .tree-file {
            color: #3498db;
        }

        .interactive-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-top: 40px;
        }

        .btn {
            background: white;
            color: #2c3e50;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üìä Estrutura de Dados de Testes KBNT</h1>
            <p>Sistema Completo de Coleta, Processamento e Armazenamento de Dados</p>
        </div>

        <div class="content">
            <!-- Fluxo Principal -->
            <div class="diagram-container">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">üîÑ Fluxo de Dados de Teste</h2>
                <div class="flow-diagram">
                    <div class="flow-stage stage-entrada" onclick="showDetails('entrada')">
                        <div class="stage-icon">üî¥</div>
                        <div class="stage-title">ENTRADA</div>
                        <div>5 Fontes</div>
                    </div>
                    <div class="flow-stage stage-processamento" onclick="showDetails('processamento')">
                        <div class="stage-icon">üü°</div>
                        <div class="stage-title">PROCESSAMENTO</div>
                        <div>5 Etapas</div>
                    </div>
                    <div class="flow-stage stage-estrutura" onclick="showDetails('estrutura')">
                        <div class="stage-icon">üü¢</div>
                        <div class="stage-title">ESTRUTURAS</div>
                        <div>5 Modelos</div>
                    </div>
                    <div class="flow-stage stage-armazenamento" onclick="showDetails('armazenamento')">
                        <div class="stage-icon">üîµ</div>
                        <div class="stage-title">STORAGE</div>
                        <div>5 Formatos</div>
                    </div>
                    <div class="flow-stage stage-saida" onclick="showDetails('saida')">
                        <div class="stage-icon">üü£</div>
                        <div class="stage-title">RELAT√ìRIOS</div>
                        <div>5 Outputs</div>
                    </div>
                </div>
            </div>

            <!-- Arquitetura do Sistema -->
            <div class="diagram-container">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">üèóÔ∏è Arquitetura do Sistema - Vis√£o
                    Geral</h2>
                <div id="architecture-diagram"
                    style="background: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <svg width="100%" height="400" viewBox="0 0 1000 400">
                        <!-- API Gateway -->
                        <rect x="50" y="50" width="150" height="60" fill="#3498db" rx="10" />
                        <text x="125" y="75" text-anchor="middle" fill="white" font-size="12" font-weight="bold">API
                            Gateway</text>
                        <text x="125" y="90" text-anchor="middle" fill="white" font-size="10">:8080</text>

                        <!-- Virtual Stock Service -->
                        <rect x="250" y="50" width="150" height="60" fill="#e74c3c" rx="10" />
                        <text x="325" y="75" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Virtual
                            Stock</text>
                        <text x="325" y="90" text-anchor="middle" fill="white" font-size="10">Service :8081</text>

                        <!-- KBNT Log Service -->
                        <rect x="450" y="50" width="150" height="60" fill="#2ecc71" rx="10" />
                        <text x="525" y="75" text-anchor="middle" fill="white" font-size="12" font-weight="bold">KBNT
                            Log</text>
                        <text x="525" y="90" text-anchor="middle" fill="white" font-size="10">Service :8082</text>

                        <!-- Kafka -->
                        <rect x="200" y="150" width="200" height="60" fill="#f39c12" rx="10" />
                        <text x="300" y="175" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Apache
                            Kafka</text>
                        <text x="300" y="190" text-anchor="middle" fill="white" font-size="10">Message Broker
                            :9092</text>

                        <!-- PostgreSQL -->
                        <rect x="50" y="250" width="150" height="60" fill="#9b59b6" rx="10" />
                        <text x="125" y="275" text-anchor="middle" fill="white" font-size="12"
                            font-weight="bold">PostgreSQL</text>
                        <text x="125" y="290" text-anchor="middle" fill="white" font-size="10">Database :5432</text>

                        <!-- Elasticsearch -->
                        <rect x="250" y="250" width="150" height="60" fill="#1abc9c" rx="10" />
                        <text x="325" y="275" text-anchor="middle" fill="white" font-size="12"
                            font-weight="bold">Elasticsearch</text>
                        <text x="325" y="290" text-anchor="middle" fill="white" font-size="10">Search :9200</text>

                        <!-- Redis -->
                        <rect x="450" y="250" width="150" height="60" fill="#e67e22" rx="10" />
                        <text x="525" y="275" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Redis
                            Cache</text>
                        <text x="525" y="290" text-anchor="middle" fill="white" font-size="10">Memory :6379</text>

                        <!-- Prometheus -->
                        <rect x="650" y="150" width="120" height="60" fill="#95a5a6" rx="10" />
                        <text x="710" y="175" text-anchor="middle" fill="white" font-size="12"
                            font-weight="bold">Prometheus</text>
                        <text x="710" y="190" text-anchor="middle" fill="white" font-size="10">Metrics :9090</text>

                        <!-- Grafana -->
                        <rect x="650" y="250" width="120" height="60" fill="#34495e" rx="10" />
                        <text x="710" y="275" text-anchor="middle" fill="white" font-size="12"
                            font-weight="bold">Grafana</text>
                        <text x="710" y="290" text-anchor="middle" fill="white" font-size="10">Dashboard :3000</text>

                        <!-- Connections -->
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d" />
                            </marker>
                        </defs>

                        <!-- API Gateway to Services -->
                        <line x1="200" y1="80" x2="250" y2="80" stroke="#7f8c8d" stroke-width="2"
                            marker-end="url(#arrowhead)" />
                        <line x1="200" y1="90" x2="450" y2="80" stroke="#7f8c8d" stroke-width="2"
                            marker-end="url(#arrowhead)" />

                        <!-- Services to Kafka -->
                        <line x1="325" y1="110" x2="300" y2="150" stroke="#7f8c8d" stroke-width="2"
                            marker-end="url(#arrowhead)" />
                        <line x1="525" y1="110" x2="350" y2="150" stroke="#7f8c8d" stroke-width="2"
                            marker-end="url(#arrowhead)" />

                        <!-- Database connections -->
                        <line x1="125" y1="250" x2="125" y2="320" stroke="#7f8c8d" stroke-width="2" />
                        <line x1="325" y1="250" x2="325" y2="320" stroke="#7f8c8d" stroke-width="2" />
                        <line x1="525" y1="250" x2="525" y2="320" stroke="#7f8c8d" stroke-width="2" />

                        <!-- Monitoring connections -->
                        <line x1="600" y1="80" x2="650" y2="180" stroke="#7f8c8d" stroke-width="2"
                            marker-end="url(#arrowhead)" />
                        <line x1="710" y1="210" x2="710" y2="250" stroke="#7f8c8d" stroke-width="2"
                            marker-end="url(#arrowhead)" />

                        <!-- Labels -->
                        <text x="850" y="50" font-size="14" font-weight="bold" fill="#2c3e50">Microservi√ßos</text>
                        <text x="850" y="150" font-size="14" font-weight="bold" fill="#2c3e50">Middleware</text>
                        <text x="850" y="250" font-size="14" font-weight="bold" fill="#2c3e50">Persist√™ncia</text>
                        <text x="850" y="350" font-size="14" font-weight="bold" fill="#2c3e50">Monitoramento</text>
                    </svg>
                </div>
            </div>

            <!-- Estat√≠sticas dos Testes Atuais -->
            <div class="diagram-container">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">üìä Estat√≠sticas dos Testes
                    Realizados (Atualizado - 03/09/2025)</h2>
                <div class="metrics-grid">
                    <div class="metric-card pulse">
                        <div class="metric-value">4,000</div>
                        <div class="metric-label">Total Requests</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">91.3%</div>
                        <div class="metric-label">Avg Success Rate</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">80.02</div>
                        <div class="metric-label">Peak Req/s</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">41.7ms</div>
                        <div class="metric-label">Avg Latency</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">88</div>
                        <div class="metric-label">Total Containers</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">157MB/s</div>
                        <div class="metric-label">Avg Throughput</div>
                    </div>
                </div>

                <!-- Gr√°fico de Performance por Estrat√©gia -->
                <div style="background: white; margin-top: 30px; padding: 25px; border-radius: 15px;">
                    <h3 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">üìà Performance por Estrat√©gia
                        (Teste Atual)</h3>
                    <div id="performance-chart" style="position: relative;">
                        <canvas id="strategyChart" width="800" height="300"></canvas>
                    </div>
                </div>

                <!-- Tabela Comparativa Detalhada -->
                <div style="background: white; margin-top: 30px; padding: 25px; border-radius: 15px; overflow-x: auto;">
                    <h3 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">üìã Compara√ß√£o Detalhada de
                        Estrat√©gias (√öltimo Teste)</h3>
                    <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
                        <thead style="background: #34495e; color: white;">
                            <tr>
                                <th style="padding: 12px; border: 1px solid #ddd;">Estrat√©gia</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">RPS</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">Sucesso (%)</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">Lat√™ncia (ms)</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">Containers</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">CPU (%)</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">Throughput</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">Efici√™ncia</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background: #e8f8f5;">
                                <td style="padding: 10px; border: 1px solid #ddd; font-weight: bold;">üèÜ Free Tier</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">80.02</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">86.4%</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">76.34</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">8</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">75.47%</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">160.9 MB/s</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">86.42</td>
                            </tr>
                            <tr style="background: #ebf3fd;">
                                <td style="padding: 10px; border: 1px solid #ddd; font-weight: bold;">ü•à Scalable
                                    Complete</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">80.01</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">96.8%</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">26.50</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">25</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">75.71%</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">158.02 MB/s</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">30.98</td>
                            </tr>
                            <tr style="background: #fff8e1;">
                                <td style="padding: 10px; border: 1px solid #ddd; font-weight: bold;">ü•â Scalable Simple
                                </td>
                                <td style="padding: 10px; border: 1px solid #ddd;">79.34</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">93.2%</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">47.71</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">15</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">75.32%</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">157.68 MB/s</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">52.89</td>
                            </tr>
                            <tr style="background: #fce4ec;">
                                <td style="padding: 10px; border: 1px solid #ddd; font-weight: bold;">4¬∫ Enterprise</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">77.50</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">98.9%</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">16.48</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">40</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">75.94%</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">153.12 MB/s</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">19.41</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Estruturas de Dados -->
            <div class="diagram-container">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">üìã Estruturas de Dados Principais
                </h2>
                <div class="data-structure">
                    <div class="structure-card card-message">
                        <div class="card-title">
                            <span class="card-icon">üì¶</span>
                            StockUpdateMessage
                        </div>
                        <p>Estrutura principal para opera√ß√µes de estoque com valida√ß√µes completas.</p>
                        <div class="json-preview">
                            {
                            "productId": "SMARTPHONE-XYZ123",
                            "distributionCenter": "DC-SP01",
                            "branch": "FIL-SP001",
                            "quantity": 150,
                            "operation": "ADD",
                            "timestamp": "2024-08-30T14:30:00.000",
                            "correlationId": "purchase-order-789456"
                            }
                        </div>
                    </div>

                    <div class="structure-card card-result">
                        <div class="card-title">
                            <span class="card-icon">üìä</span>
                            TestResult Model
                        </div>
                        <p>Modelo de resultado individual de cada teste executado.</p>
                        <div class="json-preview">
                            {
                            "requestId": 1,
                            "statusCode": 200,
                            "responseTime": 26,
                            "success": true,
                            "timestamp": "2025-09-03T23:35:44",
                            "endpoint": "/api/v1/stock/add"
                            }
                        </div>
                    </div>

                    <div class="structure-card card-metrics">
                        <div class="card-title">
                            <span class="card-icon">‚ö°</span>
                            Performance Metrics
                        </div>
                        <p>M√©tricas agregadas de performance e uso de recursos.</p>
                        <div class="json-preview">
                            {
                            "requests_per_second": 80.02,
                            "success_rate_percent": 86.4,
                            "avg_response_time_ms": 76.34,
                            "throughput_mb_per_sec": 160.9,
                            "avg_cpu_percent": 75.47
                            }
                        </div>
                    </div>

                    <div class="structure-card card-kafka">
                        <div class="card-title">
                            <span class="card-icon">üîó</span>
                            Kafka Publication Log
                        </div>
                        <p>Registro detalhado das publica√ß√µes no Apache Kafka.</p>
                        <div class="json-preview">
                            {
                            "topic": "kbnt-stock-updates",
                            "partition": 3,
                            "offset": 7823,
                            "timestamp": "2025-09-03T23:35:44.124Z",
                            "processingTime": "28ms"
                            }
                        </div>
                    </div>
                </div>
            </div>

            <!-- Estrutura de Arquivos -->
            <div class="diagram-container">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">üìÅ Estrutura de Arquivos de Dados
                </h2>
                <div class="file-tree">
                    <div class="tree-item tree-folder">üìÇ estudosKBNT_Kafka_Logs/</div>
                    <div class="tree-item">‚îú‚îÄ‚îÄ <span class="tree-file">üìä
                            performance_simulation_report_20250903_233544.json</span></div>
                    <div class="tree-item">‚îú‚îÄ‚îÄ <span class="tree-folder">üìà dashboard/data/</span></div>
                    <div class="tree-item">‚îÇ ‚îú‚îÄ‚îÄ <span class="tree-file">test-results-20250830-2147.json</span></div>
                    <div class="tree-item">‚îÇ ‚îî‚îÄ‚îÄ <span class="tree-file">mega-results-20250830-2152.json</span></div>
                    <div class="tree-item">‚îú‚îÄ‚îÄ <span class="tree-folder">üìã logs/</span></div>
                    <div class="tree-item">‚îÇ ‚îú‚îÄ‚îÄ <span class="tree-file">EXECUTION_TEST.log</span></div>
                    <div class="tree-item">‚îÇ ‚îú‚îÄ‚îÄ <span class="tree-file">KAFKA_PUBLICATION_LOGS.md</span></div>
                    <div class="tree-item">‚îÇ ‚îî‚îÄ‚îÄ <span class="tree-file">LOG_ERROS_STARTUP.md</span></div>
                    <div class="tree-item">‚îú‚îÄ‚îÄ <span class="tree-folder">üß™ simulation/</span></div>
                    <div class="tree-item">‚îÇ ‚îú‚îÄ‚îÄ <span class="tree-file">api-test.html</span> (Interactive Testing)
                    </div>
                    <div class="tree-item">‚îÇ ‚îî‚îÄ‚îÄ <span class="tree-file">traffic-test.html</span> (Load Testing)</div>
                    <div class="tree-item">‚îú‚îÄ‚îÄ <span class="tree-folder">üìä reports/</span></div>
                    <div class="tree-item">‚îÇ ‚îú‚îÄ‚îÄ <span class="tree-file">PERFORMANCE_TEST_SUMMARY.md</span></div>
                    <div class="tree-item">‚îÇ ‚îú‚îÄ‚îÄ <span class="tree-file">JSON_TEST_RESULTS.md</span></div>
                    <div class="tree-item">‚îÇ ‚îî‚îÄ‚îÄ <span class="tree-file">UNIT_TEST_VALIDATION_REPORT.md</span></div>
                    <div class="tree-item">‚îî‚îÄ‚îÄ <span class="tree-file">üìÑ temp_stock.json</span> (Temporary Data)</div>
                </div>
            </div>

            <!-- Se√ß√£o Interativa -->
            <div class="interactive-section">
                <h2 style="margin-bottom: 20px;">üéØ A√ß√µes Dispon√≠veis</h2>
                <p style="margin-bottom: 20px;">Explore os dados de teste e relat√≥rios do sistema</p>
                <button class="btn" onclick="viewReport()">üìä Ver √öltimo Relat√≥rio</button>
                <button class="btn" onclick="testAPI()">üß™ Testar APIs</button>
                <button class="btn" onclick="exportData()">üíæ Exportar Dados</button>
                <button class="btn" onclick="runSimulation()">‚ö° Nova Simula√ß√£o</button>
            </div>
        </div>
    </div>

    <script>
        function showDetails(stage) {
            const details = {
                entrada: {
                    title: 'üî¥ ENTRADA DE DADOS',
                    items: [
                        'Testes Unit√°rios Java',
                        'Simula√ß√£o Performance Python',
                        'Interface Web HTML',
                        'Scripts PowerShell',
                        'APIs REST'
                    ]
                },
                processamento: {
                    title: 'üü° PROCESSAMENTO',
                    items: [
                        'Valida√ß√£o JSON Schema',
                        'Gera√ß√£o M√©tricas',
                        'C√°lculo Performance',
                        'Agrega√ß√£o Resultados',
                        'Formata√ß√£o Relat√≥rios'
                    ]
                },
                estrutura: {
                    title: 'üü¢ ESTRUTURAS DE DADOS',
                    items: [
                        'StockUpdateMessage',
                        'TestResult Model',
                        'Performance Metrics',
                        'Kafka Publication Log',
                        'Simulation Data'
                    ]
                },
                armazenamento: {
                    title: 'üîµ ARMAZENAMENTO',
                    items: [
                        'JSON Reports',
                        'CSV Metrics',
                        'Log Files',
                        'Database Tests',
                        'Dashboard Data'
                    ]
                },
                saida: {
                    title: 'üü£ SA√çDAS E RELAT√ìRIOS',
                    items: [
                        'Performance Reports',
                        'Interactive Dashboards',
                        'Test Summaries',
                        'Real-time Metrics',
                        'Export Formats'
                    ]
                }
            };

            const detail = details[stage];
            if (detail) {
                alert(`${detail.title}\n\n${detail.items.map(item => `‚Ä¢ ${item}`).join('\n')}`);
            }
        }

        function viewReport() {
            alert('üìä Abrindo √∫ltimo relat√≥rio de performance...\n\n' +
                'Melhor Estrat√©gia: Free Tier Strategy\n' +
                'Performance: 80.02 req/s\n' +
                'Sucesso: 86.4%\n' +
                'Lat√™ncia: 76.34ms\n\n' +
                'Data do teste: 03/09/2025 23:35:44');
        }

        function testAPI() {
            alert('üß™ Redirecionando para interface de teste de APIs...\n\n' +
                'Arquivo: simulation/api-test.html\n' +
                'Funcionalidades dispon√≠veis:\n' +
                '‚Ä¢ Teste de requisi√ß√µes JSON\n' +
                '‚Ä¢ Valida√ß√£o de esquemas\n' +
                '‚Ä¢ M√©tricas em tempo real');
        }

        function exportData() {
            alert('üíæ Op√ß√µes de exporta√ß√£o dispon√≠veis:\n\n' +
                '‚Ä¢ JSON (Machine readable)\n' +
                '‚Ä¢ CSV (Excel compatible)\n' +
                '‚Ä¢ Markdown (Documentation)\n' +
                '‚Ä¢ HTML (Interactive dashboards)');
        }

        function runSimulation() {
            alert('‚ö° Iniciando nova simula√ß√£o de performance...\n\n' +
                'Comando: python performance-test-simulation.py\n' +
                'Par√¢metros: 1000 req, 10s, 4 estrat√©gias\n' +
                'Estimativa: ~2 minutos');
        }

        // Renderizar gr√°fico de performance
        function renderPerformanceChart() {
            const canvas = document.getElementById('strategyChart');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            // Dados atualizados do √∫ltimo teste (03/09/2025 23:35:44)
            const strategies = [
                { name: 'Free Tier', rps: 80.02, success: 86.4, latency: 76.34, color: '#e74c3c' },
                { name: 'Scalable Complete', rps: 80.01, success: 96.8, latency: 26.50, color: '#2ecc71' },
                { name: 'Scalable Simple', rps: 79.34, success: 93.2, latency: 47.71, color: '#3498db' },
                { name: 'Enterprise', rps: 77.50, success: 98.9, latency: 16.48, color: '#9b59b6' }
            ];

            // Limpar canvas
            ctx.clearRect(0, 0, width, height);

            // Configura√ß√µes com mais espa√ßo
            const margin = 80;
            const chartWidth = width - 2 * margin;
            const chartHeight = height - 2 * margin;
            const barWidth = chartWidth / (strategies.length * 2);

            // Encontrar valores m√°ximos
            const maxRps = Math.max(...strategies.map(s => s.rps));
            const maxSuccess = 100;
            const maxLatency = Math.max(...strategies.map(s => s.latency));

            // Desenhar eixos
            ctx.strokeStyle = '#34495e';
            ctx.lineWidth = 2;

            // Eixo Y esquerdo (RPS)
            ctx.beginPath();
            ctx.moveTo(margin, margin);
            ctx.lineTo(margin, height - margin);
            ctx.stroke();

            // Eixo X
            ctx.beginPath();
            ctx.moveTo(margin, height - margin);
            ctx.lineTo(width - margin, height - margin);
            ctx.stroke();

            // Eixo Y direito (Success Rate)
            ctx.beginPath();
            ctx.moveTo(width - margin, margin);
            ctx.lineTo(width - margin, height - margin);
            ctx.stroke();

            // Labels dos eixos
            ctx.fillStyle = '#34495e';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';

            // Label X (mais afastado da borda)
            ctx.fillText('Estrat√©gias de Deployment', width / 2, height - 15);

            // Label Y esquerdo (mais afastado)
            ctx.save();
            ctx.translate(25, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Requests per Second (RPS)', 0, 0);
            ctx.restore();

            // Label Y direito (mais afastado)
            ctx.save();
            ctx.translate(width - 25, height / 2);
            ctx.rotate(Math.PI / 2);
            ctx.fillText('Success Rate (%)', 0, 0);
            ctx.restore();

            // Desenhar barras e dados
            strategies.forEach((strategy, index) => {
                const x = margin + (index + 0.5) * (chartWidth / strategies.length);

                // Barra RPS (mais afastada)
                const rpsHeight = (strategy.rps / maxRps) * (chartHeight * 0.8);
                ctx.fillStyle = strategy.color;
                ctx.fillRect(x - barWidth / 1.5, height - margin - rpsHeight, barWidth * 0.6, rpsHeight);

                // Barra Success Rate (mais afastada)
                const successHeight = (strategy.success / maxSuccess) * (chartHeight * 0.8);
                ctx.fillStyle = strategy.color + '80'; // Semi-transparente
                ctx.fillRect(x + barWidth * 0.1, height - margin - successHeight, barWidth * 0.6, successHeight);

                // Labels das estrat√©gias (com espa√ßamento melhorado)
                ctx.fillStyle = '#34495e';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';

                // Quebrar nomes longos em duas linhas
                const words = strategy.name.split(' ');
                if (words.length > 2) {
                    ctx.fillText(words[0] + ' ' + words[1], x, height - margin + 20);
                    if (words[2]) ctx.fillText(words[2], x, height - margin + 32);
                } else {
                    ctx.fillText(strategy.name, x, height - margin + 20);
                }

                // Valores RPS (melhor posicionamento)
                ctx.fillStyle = strategy.color;
                ctx.font = 'bold 9px Arial';
                ctx.textAlign = 'center';
                const rpsText = strategy.rps >= 1000 ? (strategy.rps / 1000).toFixed(1) + 'K' : strategy.rps.toFixed(0);
                ctx.fillText(rpsText, x - barWidth / 3, height - margin - rpsHeight - 8);

                // Valores Success Rate (melhor posicionamento)
                ctx.fillText(strategy.success.toFixed(1) + '%', x + barWidth / 3, height - margin - successHeight - 8);

                // Lat√™ncia como ponto (melhor posicionado)
                const latencyY = margin + (1 - strategy.latency / maxLatency) * (chartHeight * 0.8);
                ctx.beginPath();
                ctx.fillStyle = '#f39c12';
                ctx.arc(x, latencyY, 4, 0, 2 * Math.PI);
                ctx.fill();

                // Valor de lat√™ncia (posicionamento lateral para evitar sobreposi√ß√£o)
                ctx.fillStyle = '#f39c12';
                ctx.font = 'bold 8px Arial';
                ctx.textAlign = 'left';
                ctx.fillText(strategy.latency.toFixed(0) + 'ms', x + 8, latencyY - 2);
            });

            // Legenda melhorada com mais espa√ßamento
            const legendY = margin - 50;
            ctx.font = '11px Arial';
            ctx.textAlign = 'left';

            // RPS Legend
            ctx.fillStyle = strategies[0].color;
            ctx.fillRect(margin, legendY, 15, 10);
            ctx.fillStyle = '#34495e';
            ctx.fillText('RPS', margin + 20, legendY + 8);

            // Success Rate Legend
            ctx.fillStyle = strategies[0].color + '80';
            ctx.fillRect(margin + 80, legendY, 15, 10);
            ctx.fillStyle = '#34495e';
            ctx.fillText('Success %', margin + 100, legendY + 8);

            // Latency Legend
            ctx.beginPath();
            ctx.fillStyle = '#f39c12';
            ctx.arc(margin + 200, legendY + 5, 4, 0, 2 * Math.PI);
            ctx.fill();
            ctx.fillStyle = '#34495e';
            ctx.fillText('Lat√™ncia (ms)', margin + 210, legendY + 8);
        }

        // Adicionar anima√ß√£o aos cards ao carregar
        document.addEventListener('DOMContentLoaded', function () {
            // Renderizar gr√°fico
            renderPerformanceChart();

            // Animar cards
            const cards = document.querySelectorAll('.structure-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.6s ease';

                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 200);
            });
        });
    </script>
</body>

</html>