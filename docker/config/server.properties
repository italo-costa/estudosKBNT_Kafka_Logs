# Configuração do Kafka Broker para Red Hat AMQ Streams
# Otimizada para processamento de logs

# Identificação do broker
broker.id=1

# Configurações de rede
listeners=PLAINTEXT://0.0.0.0:9092
advertised.listeners=PLAINTEXT://kafka:9092

# Diretórios de dados
log.dirs=/var/lib/kafka/data

# Configurações de Zookeeper
zookeeper.connect=zookeeper:2181
zookeeper.connection.timeout.ms=18000

# Configurações de performance
num.network.threads=8
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600

# Configurações de retenção para logs
log.retention.hours=168
log.retention.bytes=1073741824
log.segment.bytes=1073741824
log.retention.check.interval.ms=300000
log.cleanup.policy=delete

# Configurações de tópicos padrão
num.partitions=3
default.replication.factor=1
min.insync.replicas=1

# Configurações de compressão
compression.type=snappy

# Configurações específicas para logs de aplicação
auto.create.topics.enable=true
delete.topic.enable=true

# Configurações de offset
offsets.topic.replication.factor=1
transaction.state.log.replication.factor=1
transaction.state.log.min.isr=1

# Configurações de grupo de consumidores
group.initial.rebalance.delay.ms=0

# Configurações de batching
batch.size=16384
linger.ms=5

# Configurações de timeout
request.timeout.ms=30000
session.timeout.ms=10000
heartbeat.interval.ms=3000

# Configurações de log interno do Kafka
kafka.logs.dir=/opt/kafka/logs

# Configurações de segurança (desenvolvimento)
security.inter.broker.protocol=PLAINTEXT
sasl.enabled.mechanisms=PLAIN
sasl.mechanism.inter.broker.protocol=PLAIN

# Configurações de métricas (opcional)
metric.reporters=
metrics.num.samples=2
metrics.sample.window.ms=30000

# Configurações específicas do AMQ Streams
# Habilitar JMX para monitoramento
jmx.port=9999
